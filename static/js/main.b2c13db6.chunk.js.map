{"version":3,"sources":["common/pitch.ts","common/elements.ts","common/chords.ts","common/matching.ts","common/player.ts","components/ScaleChart.tsx","components/ChordList.tsx","components/NoteSelector.tsx","feature/ChordsByKeysFeature.tsx","common/scales.ts","components/ScaleSelector.tsx","feature/ChordsInScaleFeature.tsx","feature/CommonChordsForScales.tsx","index.tsx","App.tsx"],"names":["C","CIS","D","DIS","E","F","FIS","G","GIS","A","AIS","B","NUM_PITCHES","PITCHES","Array","from","keys","getPitch","index","Error","Scale","name","steps","Object","classCallCheck","this","createClass","key","value","length","root","KeyedScale","result","temp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","push","err","return","Chord","_Scale","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","Interval","_Chord","get","prototype","call","scale","concat","getName","generate","delta","transpose","INTERVAL_MINOR_2","INTERVAL_MAJOR_2","INTERVAL_MINOR_3","INTERVAL_MAJOR_3","INTERVAL_PERFECT_4","INTERVAL_TRITONE","INTERVAL_PERFECT_5","INTERVAL_MINOR_6","INTERVAL_MAJOR_6","INTERVAL_MINOR_7","INTERVAL_MAJOR_7","MAJOR","MAJOR_6TH","DOMINANT_7TH","MAJOR_7TH","MAJOR_9TH","MINOR","MINOR_6TH","MINOR_7TH","MINOR_9TH","DIMINISHED","DIMINISHED_7TH","AUGMENTED","AUGMENTED_7TH","SUSTAIN_2","SUSTAIN_7TH_2","ALL_CHORDS","containsAllPitches","scalePitches","chordPitches","scalePitchesNormalized","map","a","filter","includes","getAllMatchingChords","_loop","forEach","chord","keyedChord","withKey","sort","getAllCommonChords","scale1","scale2","_loop2","scale1Pitches","scale2Pitches","getAllMatchingChordsWithPitches","pitches","_loop3","b","t1","getScale","getSize","t2","r1","getRoot","r2","synth","Tone","PolySynth","FMSynth","toMaster","playAsHuman","timeFactor","Transport","stop","start","octave","i","iStartTime","iEndTime","triggerAttack","triggerRelease","play","playAsChord","playAsScale","ScaleChart","props","_useState","useState","_useState2","slicedToArray","playing","setPlaying","react","className","getType","disabled","onClick","setTimeout","pitch","classes","ChordList","chords","role","ScaleChart_ScaleChart","NoteSelector","Set","selectedPitches","setSelectedPitches","useEffect","initialValue","onNoteSelectionChange","react_default","createElement","type","id","checked","has","onChange","e","newSelectedPitches","add","delete","setSelected","target","htmlFor","ChordsByKeysFeature","selectedNotes","setSelectedNotes","NoteSelector_NoteSelector","selection","ChordList_ChordList","IONIAN_SCALE","PHRYGIAN_SCALE","DORIAN_SCALE","LYDIAN_SCALE","MIXOLYDIAN_SCALE","AEOLIAN_SCALE","LOCRIAN_SCALE","WHOLETONE_SCALE","HUNGARIAN","GYPSY","BYZANTINE","HINDU","ARABIAN","ORIENTAL","JAVANESE","IN_SEN","IWATO","BALINESE","CHROMATIC","ALL_SCALES","ScaleSelector","classes1","selectedKey","isPitchSelected","onKeyChange","classes2","selectedScale","isScaleSelected","onScaleChange","ChordsInScaleFeature","setPitch","_useState3","_useState4","setScale","ScaleSelector_ScaleSelector","CommonChordsForScales","pitch1","setPitch1","pitch2","setPitch2","_useState5","_useState6","setScale1","_useState7","_useState8","setScale2","ReactDOM","render","react_router_dom","basename","to","react_router","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.b2c13db6.chunk.js","sourcesContent":["export type Pitch = number;\n\nexport const C = 0 as Pitch;\nexport const CIS = 1 as Pitch;\nexport const D = 2 as Pitch;\nexport const DIS = 3 as Pitch;\nexport const E = 4 as Pitch;\nexport const F = 5 as Pitch;\nexport const FIS = 6 as Pitch;\nexport const G = 7 as Pitch;\nexport const GIS = 8 as Pitch;\nexport const A = 9 as Pitch;\nexport const AIS = 10 as Pitch;\nexport const B = 11 as Pitch;\n\nexport const NUM_PITCHES = 12;\nexport const PITCHES = Array.from(Array(NUM_PITCHES).keys()) as Pitch[];\n\nexport function getPitchWithOctave(index: Pitch, octave: number): string {\n    const pitch = getPitch(index);\n    const octaveFixed = octave + (index / NUM_PITCHES);\n    return pitch + octaveFixed;\n}\n\nexport function getPitch(index: number): string {\n    switch (index % NUM_PITCHES) {\n        case C:\n            return \"C\";\n        case CIS:\n            return \"C#\";\n        case D:\n            return \"D\";\n        case DIS:\n            return \"D#\";\n        case E:\n            return \"E\";\n        case F:\n            return \"F\";\n        case FIS:\n            return \"F#\";\n        case G:\n            return \"G\";\n        case GIS:\n            return \"G#\";\n        case A:\n            return \"A\";\n        case AIS:\n            return \"A#\";\n        case B:\n            return \"B\";\n        default:\n            throw new Error(\"Invalid pitch\");\n    }\n}\n\nexport function isBlack(index: number): boolean {\n    return [CIS, DIS, FIS, GIS, AIS].includes(index % NUM_PITCHES);\n}\n\n","import {getPitch} from \"./pitch\";\n\nexport class Scale {\n    private readonly name: string;\n    private readonly steps: number[];\n\n    constructor(name: string, steps: number[]) {\n        this.name = name;\n        this.steps = steps;\n    }\n\n    getName(): string {\n        return this.name;\n    }\n\n    getType(): string {\n        return \"default\";\n    }\n\n    getSize(): number {\n        return this.steps.length + 1;\n    }\n\n    withKey(root: number): KeyedScale {\n        return new KeyedScale(this, root);\n    }\n\n    generate(root: number): number[] {\n        const result = [root];\n        let temp = root;\n\n        for (let step of this.steps) {\n            temp = temp + step;\n            result.push(temp);\n        }\n\n        return result;\n    }\n}\n\nexport class Chord extends Scale {\n    getType(): string {\n        return \"primary\";\n    }\n}\n\nexport class Interval extends Chord {\n    getName(): string {\n        return \"Interval \" + super.getName();\n    }\n\n    getType(): string {\n        return \"secondary\";\n    }\n}\n\nexport class KeyedScale {\n    private readonly scale: Scale;\n    private readonly root: number;\n\n    constructor(scale: Scale, root: number) {\n        this.scale = scale;\n        this.root = root;\n    }\n\n    getName(): string {\n        return `${getPitch(this.root)} ${this.scale.getName()}`;\n    }\n\n    getRoot(): number {\n        return this.root;\n    }\n\n    getScale(): Scale {\n        return this.scale;\n    }\n\n    generate(): number[] {\n        return this.scale.generate(this.root);\n    }\n\n    transpose(delta: number): KeyedScale {\n        return new KeyedScale(this.scale, this.root + delta);\n    }\n\n    up(): KeyedScale {\n        return this.transpose(1);\n    }\n\n    down(): KeyedScale {\n        return this.transpose(-1);\n    }\n}","import {Chord, Interval} from \"./elements\";\n\nexport const INTERVAL_MINOR_2 = new Interval(\"m2\", [1]);\nexport const INTERVAL_MAJOR_2 = new Interval(\"M2\", [2]);\nexport const INTERVAL_MINOR_3 = new Interval(\"m3\", [3]);\nexport const INTERVAL_MAJOR_3 = new Interval(\"M3\", [4]);\nexport const INTERVAL_PERFECT_4 = new Interval(\"4\", [5]);\nexport const INTERVAL_TRITONE = new Interval(\"b5\", [6]);\nexport const INTERVAL_PERFECT_5 = new Interval(\"5\", [7]);\nexport const INTERVAL_MINOR_6 = new Interval(\"m6\", [8]);\nexport const INTERVAL_MAJOR_6 = new Interval(\"M6\", [9]);\nexport const INTERVAL_MINOR_7 = new Interval(\"m7\", [10]);\nexport const INTERVAL_MAJOR_7 = new Interval(\"M7\", [11]);\n\nexport const MAJOR = new Chord(\"Major\", [4, 3]);\nexport const MAJOR_6TH = new Chord(\"Major 6th\", [4, 3, 2]);\nexport const DOMINANT_7TH = new Chord(\"Dominant 7th\", [4, 3, 3]);\nexport const MAJOR_7TH = new Chord(\"Major 7th\", [4, 3, 4]);\nexport const MAJOR_9TH = new Chord(\"Major 9th\", [4, 3, 4, 3]);\nexport const MINOR = new Chord(\"Minor\", [3, 4]);\nexport const MINOR_6TH = new Chord(\"Minor 6th\", [3, 4, 2]);\nexport const MINOR_7TH = new Chord(\"Minor 7th\", [3, 4, 3]);\nexport const MINOR_9TH = new Chord(\"Minor 9th\", [3, 4, 3, 4]);\nexport const DIMINISHED = new Chord(\"Diminished\", [3, 3]);\nexport const DIMINISHED_7TH = new Chord(\"Diminished 7th\", [3, 3, 3]);\nexport const AUGMENTED = new Chord(\"Augmented\", [4, 4]);\nexport const AUGMENTED_7TH = new Chord(\"Augmented 7th\", [4, 4, 2]);\nexport const SUSTAIN_2 = new Chord(\"Suspended 2nd\", [2, 5]);\nexport const SUSTAIN_7TH_2 = new Chord(\"Suspended 7th 2nd\", [2, 5, 2]);\nexport const SUSTAIN_4 = new Chord(\"Suspended 4th\", [5, 2]);\nexport const SUSTAIN_7TH_4 = new Chord(\"Suspended 7th 4th\", [5, 2, 2]);\nexport const SIX_NINE = new Chord(\"6/9\", [4, 3, 2, 5]);\n\nexport const ALL_CHORDS = [\n    MAJOR, MAJOR_6TH, MAJOR_7TH, MAJOR_9TH, DOMINANT_7TH,\n    MINOR, MINOR_6TH, MINOR_7TH, MINOR_9TH,\n    DIMINISHED, DIMINISHED_7TH, AUGMENTED, AUGMENTED_7TH,\n    SUSTAIN_4, SUSTAIN_2, SUSTAIN_7TH_4, SUSTAIN_7TH_2,\n    SIX_NINE,\n    INTERVAL_MINOR_2, INTERVAL_MAJOR_2,\n    INTERVAL_MINOR_3, INTERVAL_MAJOR_3,\n    INTERVAL_PERFECT_4, INTERVAL_TRITONE, INTERVAL_PERFECT_5,\n    INTERVAL_MINOR_6, INTERVAL_MAJOR_6,\n    INTERVAL_MINOR_7, INTERVAL_MAJOR_7\n];\n","import {ALL_CHORDS} from \"./chords\";\nimport {KeyedScale} from \"./elements\";\nimport {NUM_PITCHES, Pitch} from \"./pitch\";\n\nfunction containsAllPitches(scalePitches: Pitch[], chordPitches: Pitch[]) {\n    const scalePitchesNormalized = scalePitches.map(a => a % NUM_PITCHES);\n    const chordPitchesNormalized = chordPitches.map(a => a % NUM_PITCHES);\n    const chordPitchesNotInScale = chordPitchesNormalized.filter(a => !scalePitchesNormalized.includes(a));\n    return chordPitchesNotInScale.length === 0;\n}\n\nexport function getAllMatchingChords(scale: KeyedScale): KeyedScale[] {\n    const result: KeyedScale[] = [];\n    for (let root = 0; root < NUM_PITCHES; root++) {\n        ALL_CHORDS.forEach(chord => {\n            const scalePitches = scale.generate();\n            let keyedChord = chord.withKey(root);\n            const chordPitches = keyedChord.generate();\n\n            if (containsAllPitches(scalePitches, chordPitches)) {\n                result.push(keyedChord);\n            }\n        });\n    }\n    sort(result);\n    return result;\n}\n\nexport function getAllCommonChords(scale1: KeyedScale, scale2: KeyedScale): KeyedScale[] {\n    const result: KeyedScale[] = [];\n    for (let root = 0; root < NUM_PITCHES; root++) {\n        ALL_CHORDS.forEach(chord => {\n            const scale1Pitches = scale1.generate();\n            const scale2Pitches = scale2.generate();\n            let keyedChord = chord.withKey(root);\n            const chordPitches = keyedChord.generate();\n\n            if (containsAllPitches(scale1Pitches, chordPitches) && containsAllPitches(scale2Pitches, chordPitches)) {\n                result.push(keyedChord);\n            }\n        });\n    }\n    sort(result);\n    return result;\n}\n\nexport function getAllMatchingChordsWithPitches(pitches: number[]): KeyedScale[] {\n    const result: KeyedScale[] = [];\n    for (let root = 0; root < NUM_PITCHES; root++) {\n        ALL_CHORDS.forEach(chord => {\n            let keyedChord = chord.withKey(root);\n            const chordPitches = keyedChord.generate();\n\n            if (containsAllPitches(chordPitches, pitches)) {\n                result.push(keyedChord);\n            }\n        });\n    }\n    sort(result);\n    return result;\n}\n\nfunction sort(result: KeyedScale[]) {\n    result.sort((a: KeyedScale, b: KeyedScale) => {\n        const t1 = a.getScale().getSize();\n        const t2 = b.getScale().getSize();\n        if (t1 < t2) {\n            return 1;\n        } else if (t2 < t1) {\n            return -1;\n        } else {\n            const r1 = a.getRoot();\n            const r2 = b.getRoot();\n            if (r1 < r2) {\n                return -1;\n            } else if (r2 < r1) {\n                return 1;\n            } else {\n                return a.getName() < b.getName() ? -1 : a.getName() > b.getName() ? 1 : 0;\n            }\n        }\n    });\n}\n","import Tone from \"tone\";\nimport {KeyedScale} from \"./elements\";\nimport {getPitchWithOctave} from \"./pitch\";\n\nconst synth = new Tone.PolySynth(6, Tone.FMSynth).toMaster();\n\nfunction playAsChord(scale: KeyedScale) {\n    playAsHuman(scale, 0.01);\n}\n\nfunction playAsScale(scale: KeyedScale) {\n    playAsHuman(scale, 0.07);\n}\n\nfunction playAsHuman(scale: KeyedScale, timeFactor: number) {\n    Tone.Transport.stop(0);\n    Tone.Transport.start(0);\n    const pitches = scale.generate();\n\n    for (let i = 0; i < pitches.length; i++) {\n        const iStartTime = i * timeFactor;\n        const iEndTime = iStartTime + timeFactor;\n        const name = getPitchWithOctave(pitches[i], 4);\n        synth.triggerAttack([name], \"+\" + iStartTime);\n        synth.triggerRelease([name], \"+\" + iEndTime);\n    }\n}\n\nexport function play(scale: KeyedScale) {\n    const pitches = scale.generate();\n    if (pitches.length <= 4) {\n        playAsChord(scale);\n    } else {\n        playAsScale(scale);\n    }\n}","import * as React from \"react\";\nimport {useState} from \"react\";\nimport {KeyedScale} from \"../common/elements\";\nimport {getPitch, isBlack} from \"../common/pitch\";\nimport {play} from \"../common/player\";\n\ntype Props = {\n    scale: KeyedScale\n}\n\nexport const ScaleChart: React.FC<Props> = (props) => {\n    const [playing, setPlaying] = useState(false);\n\n    function playScale() {\n        setPlaying(true);\n        play(props.scale);\n        setTimeout(() => setPlaying(false), 200);\n    }\n\n    return (\n        <div\n            className={\"card m-2\" + (props.scale.getScale().getType() === \"secondary\" ? \" \" : \" bg-light\") + (playing ? \" border-primary\" : \" \")}>\n            <div className=\"card-body\">\n                <div className=\"row no-gutters\">\n                    <div className=\"col-10 p-1\">\n                        <b>{getPitch(props.scale.getRoot())}</b>\n                        {\" \"}\n                        <small>{props.scale.getScale().getName()}</small>\n                    </div>\n                    <div className=\"col-2 p-1 text-right\">\n                        <button className=\"btn btn-sm\" disabled={playing} onClick={() => playScale()}>\n                            <small>&#9654;</small>\n                        </button>\n                    </div>\n                    <div className=\"col-12 p-1\">\n                        {props.scale.generate().map((pitch) => {\n                            const classes = isBlack(pitch) ? \"badge badge-dark mr-1 pt-3\" : \"badge badge-secondary mr-1 pt-3\";\n                            return (<span key={pitch} className={classes}>{getPitch(pitch)}</span>);\n                        })}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import * as React from \"react\";\nimport {KeyedScale} from \"../common/elements\";\nimport {ScaleChart} from \"./ScaleChart\";\n\ntype Props = {\n    chords: KeyedScale[]\n}\n\nexport const ChordList: React.FC<Props> = (props) => {\n    if (!props.chords || props.chords.length < 1) {\n        return (\n            <div className=\"alert alert-secondary\" role=\"alert\">\n                Could not find any known chords for this scale.\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <div className=\"row\">\n                {props.chords.map(scale => {\n                    return (\n                        <div key={scale.getName()} className=\"col-3\">\n                            <ScaleChart scale={scale}/>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n","import React, {useEffect, useState} from \"react\";\nimport {C, E, G, getPitch, Pitch, PITCHES} from \"../common/pitch\";\n\nexport interface NoteSelectorProps {\n    onNoteSelectionChange: (selection: Pitch[]) => void\n}\n\nexport const NoteSelector: React.FC<NoteSelectorProps> = (props) => {\n    const [selectedPitches, setSelectedPitches] = useState(new Set<Pitch>());\n\n    function setSelected(pitch: Pitch, value: boolean) {\n        const newSelectedPitches = new Set(selectedPitches);\n        if (value) {\n            newSelectedPitches.add(pitch);\n        } else {\n            newSelectedPitches.delete(pitch);\n        }\n        setSelectedPitches(newSelectedPitches);\n        props.onNoteSelectionChange(Array.from(newSelectedPitches));\n    }\n\n    useEffect(() => {\n        const initialValue = new Set<Pitch>([C, E, G]);\n        setSelectedPitches(initialValue);\n        props.onNoteSelectionChange(Array.from(initialValue));\n    }, []);\n\n    return (\n        <section>\n            <p>\n                {PITCHES.map((pitch) => {\n                    return (\n                        <div className=\"form-check form-check-inline form-control-lg\">\n                            <input\n                                type=\"checkbox\"\n                                id={`pitch-${pitch}`}\n                                className=\"form-check-input\"\n                                checked={selectedPitches.has(pitch)}\n                                onChange={(e) => setSelected(pitch, e.target.checked)}\n                                value={pitch}/>\n                            <label\n                                htmlFor={`pitch-${pitch}`}\n                                className=\"form-check-label\">\n                                {getPitch(pitch)}\n                            </label>\n                        </div>\n                    );\n                })}\n            </p>\n        </section>\n    );\n};\n","import React, {useState} from \"react\";\nimport {getAllMatchingChordsWithPitches} from \"../common/matching\";\nimport {ChordList} from \"../components/ChordList\";\nimport {NoteSelector} from \"../components/NoteSelector\";\n\nexport const ChordsByKeysFeature: React.FC = () => {\n    const [selectedNotes, setSelectedNotes] = useState([] as number[]);\n\n    return (\n        <section className=\"p-3\">\n            <div className=\"jumbotron\">\n                <p className=\"lead\">Shows all chords that contain the given notes.</p>\n\n                <hr className=\"my-4\"/>\n\n                <h3>Select Notes</h3>\n\n                <NoteSelector onNoteSelectionChange={(selection) => setSelectedNotes(selection)}/>\n            </div>\n\n            <h3>Chords in selected scale</h3>\n\n            <ChordList chords={getAllMatchingChordsWithPitches(selectedNotes)}/>\n        </section>\n    );\n};\n","import {Scale} from \"./elements\";\n\n/**\n * Sources\n * =======\n *\n * https://lotusmusic.com/lm_exoticscales.html\n * https://guitarsix.com/blog/lessons/piano-chords/241/1/\n * https://en.wikipedia.org/wiki/Mode_(music)\n */\n\nexport const IONIAN_SCALE = new Scale(\"Ionian (major)\", [2, 2, 1, 2, 2, 2, 1]);\nexport const PHRYGIAN_SCALE = new Scale(\"Phrygian\", [1, 2, 2, 2, 1, 2, 2]);\nexport const DORIAN_SCALE = new Scale(\"Dorian\", [2, 1, 2, 2, 2, 1, 2]);\nexport const LYDIAN_SCALE = new Scale(\"Lydian\", [2, 2, 2, 1, 2, 2, 1]);\nexport const MIXOLYDIAN_SCALE = new Scale(\"Mixolydian\", [2, 2, 1, 2, 2, 1, 2]);\nexport const AEOLIAN_SCALE = new Scale(\"Aeolian (minor)\", [2, 1, 2, 2, 1, 2, 2]);\nexport const LOCRIAN_SCALE = new Scale(\"Locrian\", [1, 2, 2, 1, 2, 2, 2]);\n\nexport const WHOLETONE_SCALE = new Scale(\"Wholetone\", [2, 2, 2, 2, 2]);\n\nexport const HUNGARIAN = new Scale(\"Hungarian\", [1, 3, 3, 1, 3, 1]);\nexport const GYPSY = new Scale(\"Gypsy\", [1, 3, 1, 3, 1, 3, 1]);\nexport const BYZANTINE = new Scale(\"Byzantine\", [2, 3, 1, 2, 1, 3, 1]);\nexport const HINDU = new Scale(\"Hindu\", [2, 2, 1, 2, 1, 2, 2]);\nexport const ARABIAN = new Scale(\"Arabian\", [2, 2, 1, 1, 2, 2, 2]);\nexport const ORIENTAL = new Scale(\"Oriental\", [1, 3, 1, 1, 3, 1, 2]);\nexport const JAVANESE = new Scale(\"Javanese\", [2, 2, 2, 1, 1, 2, 2]);\nexport const IN_SEN = new Scale(\"In Sen\", [1, 2 + 2, 2, 2 + 1, 2]);\nexport const IWATO = new Scale(\"Iwato\", [1, 2 + 2, 1, 2 + 2, 2]);\nexport const BALINESE = new Scale(\"Balinese\", [1, 2, 2 + 2, 1, 2 + 2]);\n\nexport const CHROMATIC = new Scale(\"Chromatic (all)\", [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]);\n\nexport const ALL_SCALES = [\n    IONIAN_SCALE, PHRYGIAN_SCALE, DORIAN_SCALE, LYDIAN_SCALE, MIXOLYDIAN_SCALE, AEOLIAN_SCALE, LOCRIAN_SCALE,\n    WHOLETONE_SCALE,\n    HUNGARIAN, GYPSY, BYZANTINE, HINDU, ARABIAN, ORIENTAL, JAVANESE, IN_SEN, IWATO, BALINESE,\n    CHROMATIC\n];\n","import React from \"react\";\nimport {Scale} from \"../common/elements\";\nimport {getPitch, PITCHES} from \"../common/pitch\";\nimport {ALL_SCALES} from \"../common/scales\";\nimport {ScaleChart} from \"./ScaleChart\";\n\ntype Props = {\n    selectedKey?: number,\n    selectedScale?: Scale,\n    onKeyChange: (selectedKey: number) => void\n    onScaleChange: (selectedScale: Scale) => void\n}\n\nexport const ScaleSelector: React.FC<Props> = (props) => {\n    function isPitchSelected(pitch: number) {\n        if (props.selectedKey === undefined) {\n            return false;\n        }\n        return props.selectedKey === pitch;\n    }\n\n    function isScaleSelected(scale: Scale) {\n        if (props.selectedScale === undefined) {\n            return false;\n        }\n        return scale.getName() === props.selectedScale!.getName();\n    }\n\n    return (\n        <section>\n            <div className=\"row align-items-start justify-content-start\">\n                <div className=\"col-auto\">\n                    <p className=\"btn-group-sm\">\n                        {PITCHES.map(pitch => {\n                            const classes1 = isPitchSelected(pitch) ? \"active btn btn-secondary btn-sm m-1\" : \"btn btn-secondary btn-sm m-1\";\n                            return <button key={pitch}\n                                           className={classes1}\n                                           onClick={() => props.onKeyChange(pitch)}>{getPitch(pitch)}</button>;\n                        })}\n                    </p>\n                </div>\n            </div>\n            <div className=\"row align-items-start justify-content-start\">\n                <div className=\"col-auto\">\n                    <p className=\"btn-group-sm\">\n                        {ALL_SCALES.map(scale => {\n                            const classes2 = isScaleSelected(scale) ? \"active btn btn-primary btn-sm m-1\" : \"btn btn-primary btn-sm m-1\";\n                            return <button key={scale.getName()}\n                                           className={classes2}\n                                           onClick={() => props.onScaleChange(scale)}>{scale.getName()}</button>;\n                        })}\n                    </p>\n                </div>\n            </div>\n            <div className=\"row align-items-start justify-content-start\">\n                <div className=\"col-auto\">\n                    {props.selectedScale !== undefined && props.selectedKey !== undefined &&\n                    <ScaleChart scale={props.selectedScale!.withKey(props.selectedKey!)}/>}\n                </div>\n            </div>\n        </section>\n    );\n};\n","import React, {useState} from \"react\";\nimport {getAllMatchingChords} from \"../common/matching\";\nimport {C} from \"../common/pitch\";\nimport {IONIAN_SCALE} from \"../common/scales\";\nimport {ChordList} from \"../components/ChordList\";\nimport {ScaleSelector} from \"../components/ScaleSelector\";\n\nexport const ChordsInScaleFeature: React.FC = () => {\n    const [pitch, setPitch] = useState(C);\n    const [scale, setScale] = useState(IONIAN_SCALE);\n\n    return (\n        <section className=\"p-3\">\n            <div className=\"jumbotron\">\n                <p className=\"lead\">Shows all chords in the selected scale.</p>\n\n                <hr className=\"my-4\"/>\n\n                <h3>Select Scale</h3>\n\n                <ScaleSelector\n                    selectedKey={pitch}\n                    selectedScale={scale}\n                    onKeyChange={(pitch) => setPitch(pitch)}\n                    onScaleChange={(scale) => setScale(scale)}/>\n            </div>\n\n            <h3>Chords in selected scale</h3>\n\n            <ChordList chords={getAllMatchingChords(scale.withKey(pitch))}/>\n        </section>\n    );\n};\n","import React, {useState} from \"react\";\nimport {getAllCommonChords} from \"../common/matching\";\nimport {C} from \"../common/pitch\";\nimport {DORIAN_SCALE, IONIAN_SCALE} from \"../common/scales\";\nimport {ChordList} from \"../components/ChordList\";\nimport {ScaleSelector} from \"../components/ScaleSelector\";\n\nexport const CommonChordsForScales: React.FC = () => {\n    const [pitch1, setPitch1] = useState(C);\n    const [pitch2, setPitch2] = useState(C);\n    const [scale1, setScale1] = useState(IONIAN_SCALE);\n    const [scale2, setScale2] = useState(DORIAN_SCALE);\n\n    return (\n        <section className=\"p-3\">\n            <div className=\"jumbotron\">\n                <p className=\"lead\">Shows all chords that the two selected scales have in common.</p>\n\n                <hr className=\"my-4\"/>\n\n                <h3>Select first scale</h3>\n\n                <ScaleSelector\n                    selectedKey={pitch1}\n                    selectedScale={scale1}\n                    onKeyChange={(pitch) => setPitch1(pitch)}\n                    onScaleChange={(scale) => setScale1(scale)}/>\n\n                <hr className=\"my-4\"/>\n\n                <h3>Select second scale</h3>\n\n                <ScaleSelector\n                    selectedKey={pitch2}\n                    selectedScale={scale2}\n                    onKeyChange={(pitch) => setPitch2(pitch)}\n                    onScaleChange={(scale) => setScale2(scale)}/>\n            </div>\n\n            <h3>Chords in both selected scales</h3>\n\n            <ChordList chords={getAllCommonChords(scale1.withKey(pitch1), scale2.withKey(pitch2))}/>\n        </section>\n    );\n};\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {App} from \"./App\";\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));","import React from \"react\";\nimport {BrowserRouter, NavLink, Redirect, Route, Switch} from \"react-router-dom\";\nimport {ChordsByKeysFeature} from \"./feature/ChordsByKeysFeature\";\nimport {ChordsInScaleFeature} from \"./feature/ChordsInScaleFeature\";\nimport {CommonChordsForScales} from \"./feature/CommonChordsForScales\";\n\nexport const App: React.FC = () => {\n    return (\n        <div className=\"App\">\n            <BrowserRouter basename=\"/armony\">\n                <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n                    <div className=\"container\">\n                        <NavLink className=\"navbar-brand\" to=\"/\">🎹 Armony</NavLink>\n                        <ul className=\"navbar-nav\">\n                            <li className=\"nav-item\">\n                                <NavLink className=\"nav-link\" to=\"/scale-to-chords\">Scale to Chords</NavLink>\n                            </li>\n                            <li className=\"nav-item\">\n                                <NavLink className=\"nav-link\" to=\"/notes-to-chords\">Notes to Chords</NavLink>\n                            </li>\n                            <li className=\"nav-item\">\n                                <NavLink className=\"nav-link\" to=\"/common-chords\">Common Chords</NavLink>\n                            </li>\n                        </ul>\n                    </div>\n                </nav>\n                <div className=\"container\">\n                    <Switch>\n                        <Route exact path=\"/scale-to-chords\" component={ChordsInScaleFeature}/>\n                        <Route exact path=\"/notes-to-chords\" component={ChordsByKeysFeature}/>\n                        <Route exact path=\"/common-chords\" component={CommonChordsForScales}/>\n                        <Route exact path=\"/\" component={ChordsInScaleFeature}/>\n                    </Switch>\n                    <Redirect to=\"/\"/>\n                </div>\n            </BrowserRouter>\n        </div>\n    );\n};\n"],"sourceRoot":""}