(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);a(27);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),s=a(9),o=a(6),i=a(2),m=a(25),u=a(17),h=a(7),d=a(18),f=a(11),v=a(12),E=0,b=1,y=2,g=3,p=4,w=5,N=6,S=7,j=8,k=9,O=10,C=11,K=Array.from(Array(12).keys());function M(e){switch(e%12){case E:return"C";case b:return"C#";case y:return"D";case g:return"D#";case p:return"E";case w:return"F";case N:return"F#";case S:return"G";case j:return"G#";case k:return"A";case O:return"A#";case C:return"B";default:throw new Error("Invalid pitch")}}var A=function(){function e(t,a){Object(f.a)(this,e),this.name=void 0,this.steps=void 0,this.name=t,this.steps=a}return Object(v.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return"default"}},{key:"getSize",value:function(){return this.steps.length+1}},{key:"withKey",value:function(e){return new x(this,e)}},{key:"generate",value:function(e){var t=[e],a=e,n=!0,r=!1,c=void 0;try{for(var l,s=this.steps[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){a+=l.value,t.push(a)}}catch(o){r=!0,c=o}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return t}}]),e}(),I=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(v.a)(t,[{key:"getType",value:function(){return"primary"}}]),t}(A),T=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(v.a)(t,[{key:"getName",value:function(){return"Interval "+Object(m.a)(Object(h.a)(t.prototype),"getName",this).call(this)}},{key:"getType",value:function(){return"secondary"}}]),t}(I),x=function(){function e(t,a){Object(f.a)(this,e),this.scale=void 0,this.root=void 0,this.scale=t,this.root=a}return Object(v.a)(e,[{key:"getName",value:function(){return"".concat(M(this.root)," ").concat(this.scale.getName())}},{key:"getRoot",value:function(){return this.root}},{key:"getScale",value:function(){return this.scale}},{key:"generate",value:function(){return this.scale.generate(this.root)}},{key:"transpose",value:function(t){return new e(this.scale,this.root+t)}},{key:"up",value:function(){return this.transpose(1)}},{key:"down",value:function(){return this.transpose(-1)}}]),e}(),D=new T("m2",[1]),z=new T("M2",[2]),B=new T("m3",[3]),F=new T("M3",[4]),G=new T("4",[5]),J=new T("b5",[6]),P=new T("5",[7]),R=new T("m6",[8]),H=new T("M6",[9]),L=new T("m7",[10]),W=new T("M7",[11]),q=[new I("Major",[4,3]),new I("Major 6th",[4,3,2]),new I("Major 7th",[4,3,4]),new I("Dominant 7th",[4,3,3]),new I("Minor",[3,4]),new I("Minor 6th",[3,4,2]),new I("Minor 7th",[3,4,3]),new I("Diminished",[3,3]),new I("Diminished 7th",[3,3,3]),new I("Augmented",[4,4]),new I("Augmented 7th",[4,4,2]),new I("Suspended 4th",[5,2]),new I("Suspended 2nd",[2,5]),new I("Suspended 7th 4th",[5,2,2]),new I("Suspended 7th 2nd",[2,5,2]),new I("Major 9th",[4,3,4,3]),new I("Minor 9th",[4,3,4,3]),D,z,B,F,G,J,P,R,H,L,W];function Q(e,t){var a=e.map(function(e){return e%12});return 0===t.map(function(e){return e%12}).filter(function(e){return!a.includes(e)}).length}function U(e){e.sort(function(e,t){var a=e.getScale().getSize(),n=t.getScale().getSize();return a<n?1:n<a?-1:e.getName()<t.getName()?-1:e.getName()>t.getName()?1:0})}var V=a(13),X=a.n(V),Y=new X.a.PolySynth(6,X.a.FMSynth).toMaster();function Z(e,t){X.a.Transport.stop(0),X.a.Transport.start(0);for(var a,n,r=e.generate(),c=0;c<r.length;c++){var l=c*t,s=l+t,o=(a=r[c],n=4,M(a)+(n+a/12));Y.triggerAttack([o],"+"+l),Y.triggerRelease([o],"+"+s)}}function $(e){e.generate().length<=4?function(e){Z(e,.01)}(e):function(e){Z(e,.07)}(e)}var _=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1];return n.createElement("div",{className:"card m-2"+("secondary"===e.scale.getScale().getType()?" ":" bg-light")+(r?" border-primary":" ")},n.createElement("div",{className:"card-body"},n.createElement("div",{className:"row no-gutters"},n.createElement("div",{className:"col-10 p-1"},n.createElement("b",null,M(e.scale.getRoot()))," ",n.createElement("small",null,e.scale.getScale().getName())),n.createElement("div",{className:"col-2 p-1 text-right"},n.createElement("button",{className:"btn btn-sm",disabled:r,onClick:function(){return c(!0),$(e.scale),void setTimeout(function(){return c(!1)},200)}},n.createElement("small",null,"\u25b6"))),n.createElement("div",{className:"col-12 p-1"},e.scale.generate().map(function(e){var t=[b,g,N,j,O].includes(e%12)?"badge badge-dark mr-1 pt-3":"badge badge-secondary mr-1 pt-3";return n.createElement("span",{key:e,className:t},M(e))})))))},ee=function(e){var t=function(e){for(var t=[],a=function(a){q.forEach(function(n){var r=n.withKey(a),c=r.generate();Q(e,c)&&t.push(r)})},n=0;n<12;n++)a(n);return U(t),t}(e.pitches);return!t||t.length<1?n.createElement("div",{className:"alert alert-secondary",role:"alert"},"No results. Please make sure to select at least two notes."):n.createElement("div",null,n.createElement("div",{className:"row"},t.map(function(e){return n.createElement("div",{key:e.getName(),className:"col-3"},n.createElement(_,{scale:e}))})))},te=function(e){var t=Object(n.useState)(new Set),a=Object(i.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)(function(){var t=new Set([E,p,S]);l(t),e.onNoteSelectionChange(Array.from(t))},[]),r.a.createElement("section",null,r.a.createElement("p",null,K.map(function(t){return r.a.createElement("div",{className:"form-check form-check-inline form-control-lg"},r.a.createElement("input",{type:"checkbox",id:"pitch-".concat(t),className:"form-check-input",checked:c.has(t),onChange:function(a){return function(t,a){var n=new Set(c);a?n.add(t):n.delete(t),l(n),e.onNoteSelectionChange(Array.from(n))}(t,a.target.checked)},value:t}),r.a.createElement("label",{htmlFor:"pitch-".concat(t),className:"form-check-label"},M(t)))})))},ae=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement("section",{className:"p-3"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"lead"},"Shows all chords that contain the given notes."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select Notes"),r.a.createElement(te,{onNoteSelectionChange:function(e){return c(e)}})),r.a.createElement("h3",null,"Chords in selected scale"),r.a.createElement(ee,{pitches:a}))},ne=new A("Ionian (major)",[2,2,1,2,2,2,1]),re=new A("Phrygian",[1,2,2,2,1,2,2]),ce=new A("Dorian",[2,1,2,2,2,1,2]),le=new A("Lydian",[2,2,2,1,2,2,1]),se=new A("Mixolydian",[2,2,1,2,2,1,2]),oe=new A("Aeolian (minor)",[2,1,2,2,1,2,2]),ie=new A("Locrian",[1,2,2,1,2,2,2]),me=new A("Wholetone",[2,2,2,2,2]),ue=new A("Hungarian",[1,3,3,1,3,1]),he=new A("Gypsy",[1,3,1,3,1,3,1]),de=new A("Byzantine",[2,3,1,2,1,3,1]),fe=new A("Hindu",[2,2,1,2,1,2,2]),ve=new A("Arabian",[2,2,1,1,2,2,2]),Ee=new A("Oriental",[1,3,1,1,3,1,2]),be=new A("Javanese",[2,2,2,1,1,2,2]),ye=new A("In Sen",[1,4,2,3,2]),ge=new A("Iwato",[1,4,1,4,2]),pe=new A("Balinese",[1,2,4,1,4]),we=[ne,re,ce,le,se,oe,ie,me,ue,he,de,fe,ve,Ee,be,ye,ge,pe],Ne=function(e){var t=function(e){for(var t=[],a=function(a){q.forEach(function(n){var r=e.generate(),c=n.withKey(a);Q(r,c.generate())&&t.push(c)})},n=0;n<12;n++)a(n);return U(t),t}(e.scale);return!t||t.length<1?n.createElement("div",{className:"alert alert-secondary",role:"alert"},"Could not find any known chords for this scale."):n.createElement("div",null,n.createElement("div",{className:"row"},t.map(function(e){return n.createElement("div",{key:e.getName(),className:"col-3"},n.createElement(_,{scale:e}))})))},Se=function(e){return r.a.createElement("section",null,r.a.createElement("div",{className:"row align-items-start justify-content-start"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",{className:"btn-group-sm"},K.map(function(t){var a=function(t){return void 0!==e.selectedKey&&e.selectedKey===t}(t)?"active btn btn-secondary btn-sm m-1":"btn btn-secondary btn-sm m-1";return r.a.createElement("button",{key:t,className:a,onClick:function(){return e.onKeyChange(t)}},M(t))})))),r.a.createElement("div",{className:"row align-items-start justify-content-start"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",{className:"btn-group-sm"},we.map(function(t){var a=function(t){return void 0!==e.selectedScale&&t.getName()===e.selectedScale.getName()}(t)?"active btn btn-primary btn-sm m-1":"btn btn-primary btn-sm m-1";return r.a.createElement("button",{key:t.getName(),className:a,onClick:function(){return e.onScaleChange(t)}},t.getName())})))),r.a.createElement("div",{className:"row align-items-start justify-content-start"},r.a.createElement("div",{className:"col-auto"},void 0!==e.selectedScale&&void 0!==e.selectedKey&&r.a.createElement(_,{scale:e.selectedScale.withKey(e.selectedKey)}))))},je=function(){var e=Object(n.useState)(E),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(ne),s=Object(i.a)(l,2),o=s[0],m=s[1];return r.a.createElement("section",{className:"p-3"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"lead"},"Shows all chords in the selected scale."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select Scale"),r.a.createElement(Se,{selectedKey:a,selectedScale:o,onKeyChange:function(e){return c(e)},onScaleChange:function(e){return m(e)}})),r.a.createElement("h3",null,"Chords in selected scale"),r.a.createElement(Ne,{scale:o.withKey(a)}))},ke=function(e){var t=function(e,t){for(var a=[],n=function(n){q.forEach(function(r){var c=e.generate(),l=t.generate(),s=r.withKey(n),o=s.generate();Q(c,o)&&Q(l,o)&&a.push(s)})},r=0;r<12;r++)n(r);return U(a),a}(e.scale1,e.scale2);return!t||t.length<1?n.createElement("div",{className:"alert alert-secondary",role:"alert"},"It is possible that these scales have no chords in common."):n.createElement("div",null,n.createElement("div",{className:"row"},t.map(function(e){return n.createElement("div",{key:e.getName(),className:"col-3"},n.createElement(_,{scale:e}))})))},Oe=function(){var e=Object(n.useState)(E),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(E),s=Object(i.a)(l,2),o=s[0],m=s[1],u=Object(n.useState)(ne),h=Object(i.a)(u,2),d=h[0],f=h[1],v=Object(n.useState)(ce),b=Object(i.a)(v,2),y=b[0],g=b[1];return r.a.createElement("section",{className:"p-3"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"lead"},"Shows all chords that the two selected scales have in common."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select first scale"),r.a.createElement(Se,{selectedKey:a,selectedScale:d,onKeyChange:function(e){return c(e)},onScaleChange:function(e){return f(e)}}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select second scale"),r.a.createElement(Se,{selectedKey:o,selectedScale:y,onKeyChange:function(e){return m(e)},onScaleChange:function(e){return g(e)}})),r.a.createElement("h3",null,"Chords in both selected scales"),r.a.createElement(ke,{scale1:d.withKey(a),scale2:y.withKey(o)}))};l.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{basename:"/armony"},r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},"\ud83c\udfb9 Armony"),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/scale-to-chords"},"Scale to Chords")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/notes-to-chords"},"Notes to Chords")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/common-chords"},"Common Chords"))))),r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{path:"/scale-to-chords",component:je}),r.a.createElement(o.b,{path:"/notes-to-chords",component:ae}),r.a.createElement(o.b,{path:"/common-chords",component:Oe}),r.a.createElement(o.b,{path:"/",component:je}),r.a.createElement(o.a,{to:"/"}))))},null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.7ed84c30.chunk.js.map