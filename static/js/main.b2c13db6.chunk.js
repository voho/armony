(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);n(27);var a=n(0),r=n.n(a),c=n(22),l=n.n(c),s=n(9),o=n(6),i=n(2),u=n(25),m=n(17),h=n(7),d=n(18),f=n(11),v=n(12),b=0,y=1,E=2,g=3,w=4,p=5,N=6,S=7,j=8,k=9,O=10,C=11,K=12,M=Array.from(Array(K).keys());function A(e){switch(e%K){case b:return"C";case y:return"C#";case E:return"D";case g:return"D#";case w:return"E";case p:return"F";case N:return"F#";case S:return"G";case j:return"G#";case k:return"A";case O:return"A#";case C:return"B";default:throw new Error("Invalid pitch")}}var x=function(){function e(t,n){Object(f.a)(this,e),this.name=void 0,this.steps=void 0,this.name=t,this.steps=n}return Object(v.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return"default"}},{key:"getSize",value:function(){return this.steps.length+1}},{key:"withKey",value:function(e){return new I(this,e)}},{key:"generate",value:function(e){var t=[e],n=e,a=!0,r=!1,c=void 0;try{for(var l,s=this.steps[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){n+=l.value,t.push(n)}}catch(o){r=!0,c=o}finally{try{a||null==s.return||s.return()}finally{if(r)throw c}}return t}}]),e}(),T=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(v.a)(t,[{key:"getType",value:function(){return"primary"}}]),t}(x),D=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(v.a)(t,[{key:"getName",value:function(){return"Interval "+Object(u.a)(Object(h.a)(t.prototype),"getName",this).call(this)}},{key:"getType",value:function(){return"secondary"}}]),t}(T),I=function(){function e(t,n){Object(f.a)(this,e),this.scale=void 0,this.root=void 0,this.scale=t,this.root=n}return Object(v.a)(e,[{key:"getName",value:function(){return"".concat(A(this.root)," ").concat(this.scale.getName())}},{key:"getRoot",value:function(){return this.root}},{key:"getScale",value:function(){return this.scale}},{key:"generate",value:function(){return this.scale.generate(this.root)}},{key:"transpose",value:function(t){return new e(this.scale,this.root+t)}},{key:"up",value:function(){return this.transpose(1)}},{key:"down",value:function(){return this.transpose(-1)}}]),e}(),R=new D("m2",[1]),z=new D("M2",[2]),B=new D("m3",[3]),F=new D("M3",[4]),G=new D("4",[5]),J=new D("b5",[6]),H=new D("5",[7]),L=new D("m6",[8]),P=new D("M6",[9]),W=new D("m7",[10]),q=new D("M7",[11]),Q=new T("Major",[4,3]),U=new T("Major 6th",[4,3,2]),V=new T("Dominant 7th",[4,3,3]),X=new T("Major 7th",[4,3,4]),Y=new T("Major 9th",[4,3,4,3]),Z=new T("Minor",[3,4]),$=new T("Minor 6th",[3,4,2]),_=new T("Minor 7th",[3,4,3]),ee=new T("Minor 9th",[3,4,3,4]),te=new T("Diminished",[3,3]),ne=new T("Diminished 7th",[3,3,3]),ae=new T("Augmented",[4,4]),re=new T("Augmented 7th",[4,4,2]),ce=new T("Suspended 2nd",[2,5]),le=new T("Suspended 7th 2nd",[2,5,2]),se=[Q,U,X,Y,V,Z,$,_,ee,te,ne,ae,re,new T("Suspended 4th",[5,2]),ce,new T("Suspended 7th 4th",[5,2,2]),le,new T("6/9",[4,3,2,5]),R,z,B,F,G,J,H,L,P,W,q];function oe(e,t){var n=e.map(function(e){return e%K});return 0===t.map(function(e){return e%K}).filter(function(e){return!n.includes(e)}).length}function ie(e){for(var t=[],n=function(n){se.forEach(function(a){var r=e.generate(),c=a.withKey(n);oe(r,c.generate())&&t.push(c)})},a=0;a<K;a++)n(a);return he(t),t}function ue(e,t){for(var n=[],a=function(a){se.forEach(function(r){var c=e.generate(),l=t.generate(),s=r.withKey(a),o=s.generate();oe(c,o)&&oe(l,o)&&n.push(s)})},r=0;r<K;r++)a(r);return he(n),n}function me(e){for(var t=[],n=function(n){se.forEach(function(a){var r=a.withKey(n);oe(r.generate(),e)&&t.push(r)})},a=0;a<K;a++)n(a);return he(t),t}function he(e){e.sort(function(e,t){var n=e.getScale().getSize(),a=t.getScale().getSize();if(n<a)return 1;if(a<n)return-1;var r=e.getRoot(),c=t.getRoot();return r<c?-1:c<r?1:e.getName()<t.getName()?-1:e.getName()>t.getName()?1:0})}var de=n(13),fe=n.n(de),ve=new fe.a.PolySynth(6,fe.a.FMSynth).toMaster();function be(e,t){fe.a.Transport.stop(0),fe.a.Transport.start(0);for(var n,a,r=e.generate(),c=0;c<r.length;c++){var l=c*t,s=l+t,o=(n=r[c],a=4,A(n)+(a+n/K));ve.triggerAttack([o],"+"+l),ve.triggerRelease([o],"+"+s)}}function ye(e){e.generate().length<=4?function(e){be(e,.01)}(e):function(e){be(e,.07)}(e)}var Ee=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1];return a.createElement("div",{className:"card m-2"+("secondary"===e.scale.getScale().getType()?" ":" bg-light")+(r?" border-primary":" ")},a.createElement("div",{className:"card-body"},a.createElement("div",{className:"row no-gutters"},a.createElement("div",{className:"col-10 p-1"},a.createElement("b",null,A(e.scale.getRoot()))," ",a.createElement("small",null,e.scale.getScale().getName())),a.createElement("div",{className:"col-2 p-1 text-right"},a.createElement("button",{className:"btn btn-sm",disabled:r,onClick:function(){return c(!0),ye(e.scale),void setTimeout(function(){return c(!1)},200)}},a.createElement("small",null,"\u25b6"))),a.createElement("div",{className:"col-12 p-1"},e.scale.generate().map(function(e){var t=[y,g,N,j,O].includes(e%K)?"badge badge-dark mr-1 pt-3":"badge badge-secondary mr-1 pt-3";return a.createElement("span",{key:e,className:t},A(e))})))))},ge=function(e){return!e.chords||e.chords.length<1?a.createElement("div",{className:"alert alert-secondary",role:"alert"},"Could not find any known chords for this scale."):a.createElement("div",null,a.createElement("div",{className:"row"},e.chords.map(function(e){return a.createElement("div",{key:e.getName(),className:"col-3"},a.createElement(Ee,{scale:e}))})))},we=function(e){var t=Object(a.useState)(new Set),n=Object(i.a)(t,2),c=n[0],l=n[1];return Object(a.useEffect)(function(){var t=new Set([b,w,S]);l(t),e.onNoteSelectionChange(Array.from(t))},[]),r.a.createElement("section",null,r.a.createElement("p",null,M.map(function(t){return r.a.createElement("div",{className:"form-check form-check-inline form-control-lg"},r.a.createElement("input",{type:"checkbox",id:"pitch-".concat(t),className:"form-check-input",checked:c.has(t),onChange:function(n){return function(t,n){var a=new Set(c);n?a.add(t):a.delete(t),l(a),e.onNoteSelectionChange(Array.from(a))}(t,n.target.checked)},value:t}),r.a.createElement("label",{htmlFor:"pitch-".concat(t),className:"form-check-label"},A(t)))})))},pe=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return r.a.createElement("section",{className:"p-3"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"lead"},"Shows all chords that contain the given notes."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select Notes"),r.a.createElement(we,{onNoteSelectionChange:function(e){return c(e)}})),r.a.createElement("h3",null,"Chords in selected scale"),r.a.createElement(ge,{chords:me(n)}))},Ne=new x("Ionian (major)",[2,2,1,2,2,2,1]),Se=new x("Phrygian",[1,2,2,2,1,2,2]),je=new x("Dorian",[2,1,2,2,2,1,2]),ke=new x("Lydian",[2,2,2,1,2,2,1]),Oe=new x("Mixolydian",[2,2,1,2,2,1,2]),Ce=new x("Aeolian (minor)",[2,1,2,2,1,2,2]),Ke=new x("Locrian",[1,2,2,1,2,2,2]),Me=new x("Wholetone",[2,2,2,2,2]),Ae=new x("Hungarian",[1,3,3,1,3,1]),xe=new x("Gypsy",[1,3,1,3,1,3,1]),Te=new x("Byzantine",[2,3,1,2,1,3,1]),De=new x("Hindu",[2,2,1,2,1,2,2]),Ie=new x("Arabian",[2,2,1,1,2,2,2]),Re=new x("Oriental",[1,3,1,1,3,1,2]),ze=new x("Javanese",[2,2,2,1,1,2,2]),Be=new x("In Sen",[1,4,2,3,2]),Fe=new x("Iwato",[1,4,1,4,2]),Ge=new x("Balinese",[1,2,4,1,4]),Je=new x("Chromatic (all)",[1,1,1,1,1,1,1,1,1,1,1]),He=[Ne,Se,je,ke,Oe,Ce,Ke,Me,Ae,xe,Te,De,Ie,Re,ze,Be,Fe,Ge,Je],Le=function(e){return r.a.createElement("section",null,r.a.createElement("div",{className:"row align-items-start justify-content-start"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",{className:"btn-group-sm"},M.map(function(t){var n=function(t){return void 0!==e.selectedKey&&e.selectedKey===t}(t)?"active btn btn-secondary btn-sm m-1":"btn btn-secondary btn-sm m-1";return r.a.createElement("button",{key:t,className:n,onClick:function(){return e.onKeyChange(t)}},A(t))})))),r.a.createElement("div",{className:"row align-items-start justify-content-start"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",{className:"btn-group-sm"},He.map(function(t){var n=function(t){return void 0!==e.selectedScale&&t.getName()===e.selectedScale.getName()}(t)?"active btn btn-primary btn-sm m-1":"btn btn-primary btn-sm m-1";return r.a.createElement("button",{key:t.getName(),className:n,onClick:function(){return e.onScaleChange(t)}},t.getName())})))),r.a.createElement("div",{className:"row align-items-start justify-content-start"},r.a.createElement("div",{className:"col-auto"},void 0!==e.selectedScale&&void 0!==e.selectedKey&&r.a.createElement(Ee,{scale:e.selectedScale.withKey(e.selectedKey)}))))},Pe=function(){var e=Object(a.useState)(b),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(Ne),s=Object(i.a)(l,2),o=s[0],u=s[1];return r.a.createElement("section",{className:"p-3"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"lead"},"Shows all chords in the selected scale."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select Scale"),r.a.createElement(Le,{selectedKey:n,selectedScale:o,onKeyChange:function(e){return c(e)},onScaleChange:function(e){return u(e)}})),r.a.createElement("h3",null,"Chords in selected scale"),r.a.createElement(ge,{chords:ie(o.withKey(n))}))},We=function(){var e=Object(a.useState)(b),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(b),s=Object(i.a)(l,2),o=s[0],u=s[1],m=Object(a.useState)(Ne),h=Object(i.a)(m,2),d=h[0],f=h[1],v=Object(a.useState)(je),y=Object(i.a)(v,2),E=y[0],g=y[1];return r.a.createElement("section",{className:"p-3"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",{className:"lead"},"Shows all chords that the two selected scales have in common."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select first scale"),r.a.createElement(Le,{selectedKey:n,selectedScale:d,onKeyChange:function(e){return c(e)},onScaleChange:function(e){return f(e)}}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h3",null,"Select second scale"),r.a.createElement(Le,{selectedKey:o,selectedScale:E,onKeyChange:function(e){return u(e)},onScaleChange:function(e){return g(e)}})),r.a.createElement("h3",null,"Chords in both selected scales"),r.a.createElement(ge,{chords:ue(d.withKey(n),E.withKey(o))}))};l.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{basename:"/armony"},r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},"\ud83c\udfb9 Armony"),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/scale-to-chords"},"Scale to Chords")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/notes-to-chords"},"Notes to Chords")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/common-chords"},"Common Chords"))))),r.a.createElement("div",{className:"container"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/scale-to-chords",component:Pe}),r.a.createElement(o.b,{exact:!0,path:"/notes-to-chords",component:pe}),r.a.createElement(o.b,{exact:!0,path:"/common-chords",component:We}),r.a.createElement(o.b,{exact:!0,path:"/",component:Pe})),r.a.createElement(o.a,{to:"/"}))))},null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.b2c13db6.chunk.js.map